import{n as i,C as u,t as p,c as h,m as d,T as m,b as y,d as _,g as c}from"./index-B11xmcZV.js";import{R as x}from"./Ripple-CrmZFPW-.js";const f={components:{Ripple:x},data(){return{championName:""}},methods:{search(){this.$emit("search-champions",this.championName)}}};var g=function(){var t=this,e=t._self._c;return e("Ripple",{staticClass:"relative inline-block rounded-lg",attrs:{color:"rgba(43, 108, 176, 0.7)"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.championName,expression:"championName"}],staticClass:"input-color rounded-lg px-2 py-2 pl-10 outline-none focus:bg-blue-1000",attrs:{type:"text",placeholder:"Search Champions"},domProps:{value:t.championName},on:{input:[function(s){s.target.composing||(t.championName=s.target.value)},t.search]}}),e("svg",{staticClass:"vertical-center absolute left-0 ml-3 h-4 w-4"},[e("use",{attrs:{"xlink:href":"#search"}})])])},v=[],b=i(f,g,v,!1,null,"c3e51f9b");const C=b.exports,w={components:{ContentLoader:u},props:{champions:{type:Array,required:!0},onlyMostPlayed:{type:Boolean,default:!1},search:{type:String,default:""}},data(){return{headings:[{name:"Name",props:"champion.name"},{name:"Win <br> rate",props:"winrate"},{name:"Play <br> rate",props:"playrate"},{name:"Wins",props:"wins"},{name:"Plays",props:"count"},{name:"KDA",props:"kda"},{name:"KP",props:"kp"},{name:"Minions",props:"minions"},{name:"Gold",props:"gold"},{name:"Dmg <br> champ",props:"dmgChamp"},{name:"Dmg <br> taken",props:"dmgTaken"},{name:"Game <br> length",props:"gameLength"},{name:"Last <br> played",props:"date"}],championsFull:[],sortProps:"index",order:-1}},computed:{championsToDisplay(){return this.championsFull.filter(r=>{const t=this.onlyMostPlayed?r.playrate>=1:!0,e=r.champion.name.toLowerCase().includes(this.search.toLowerCase());return t&&e})},totalGames(){return this.champions.reduce((r,t)=>r+t.count,0)}},watch:{champions(){this.updateChampionsList()},championsToDisplay(){this.reApplySorts()}},created(){this.updateChampionsList()},methods:{bgColor(r,t){const e=Math.max(...this.championsToDisplay.filter(o=>o[t]!==1/0).map(o=>parseFloat(o[t])),0),a=((r[t]===1/0?e:parseFloat(r[t]))/e).toFixed(2);return{backgroundColor:`rgba(${h[t]}, ${a})`}},sortBy(r){r===this.sortProps?this.order*=-1:this.order=-1,this.championsToDisplay.sort((t,e)=>{const s=r.split(".").reduce((n,l)=>n&&n[l],t),a=r.split(".").reduce((n,l)=>n&&n[l],e);let o=typeof s=="string"?s.localeCompare(a):s-a;return this.order==-1&&(o*=-1),(r==="index"||r==="champion.name")&&(o*=-1),o||t.champion.name.localeCompare(e.champion.name)}),this.sortProps=r},reApplySorts(){this.order*=-1,this.sortBy(this.sortProps)},sortedClasses(r){return{sorted:this.sortProps===r,"sorted-asc":this.sortProps===r&&this.order===1,"sorted-desc":this.sortProps===r&&this.order===-1}},updateChampionsList(){this.championsFull=this.champions.map((r,t)=>{let e=r.kills===0&&r.assists===0&&r.deaths===0?0:(r.kills+r.assists)/r.deaths;return{...r,winrate:r.wins*100/r.count,playrate:r.count*100/this.totalGames,kda:e,index:t,lastPlayed:p(r.date),show:!0}})}}};var k=function(){var t=this,e=t._self._c;return e("table",{staticClass:"w-full table-fixed rounded-lg bg-blue-800 text-center leading-none"},[e("thead",[e("tr",{staticClass:"heading select-none rounded-t-lg text-sm"},[e("th",{staticClass:"relative cursor-pointer rounded-tl-lg px-2 py-4 font-normal hover:bg-blue-700",class:t.sortedClasses("index"),on:{click:function(s){return t.sortBy("index")}}},[t._v(" rank ")]),t._l(t.headings,function(s,a){return e("th",{key:`champHeading-${a}`,staticClass:"relative cursor-pointer px-2 py-4 font-normal hover:bg-blue-700",class:[{"rounded-tr-lg":a===t.headings.length-1,"w-name":s.name==="Name","w-kda":s.name==="KDA"},t.sortedClasses(s.props)],domProps:{innerHTML:t._s(s.name)},on:{click:function(o){return t.sortBy(s.props)}}})})],2)]),t.champions.length?e("tbody",{staticClass:"bg-blue-760"},t._l(t.championsToDisplay,function(s,a){return e("tr",{key:s._id,class:{"rounded-b-lg":a===t.championsToDisplay.length-1}},[e("td",{staticClass:"border-t-table relative bg-blue-800 px-2 py-3 text-sm text-white",class:{"rounded-bl-lg":a===t.championsToDisplay.length-1}},[t._v(" "+t._s(s.index+1)+" ")]),e("td",{staticClass:"border-t-table relative bg-blue-800 px-2 py-3 text-sm text-white"},[e("div",{staticClass:"flex items-center"},[e("div",{staticClass:"h-6 w-6 flex-shrink-0 rounded-full bg-blue-1000 bg-cover bg-center",style:{backgroundImage:`url('${s.champion.icon}')`}}),e("div",{staticClass:"ml-2"},[t._v(t._s(s.champion.name))])])]),e("td",{staticClass:"px-2 py-3 text-sm text-white",style:t.bgColor(s,"winrate")},[t._v(" "+t._s(t._f("percent")(s.winrate))+" ")]),e("td",{staticClass:"px-2 py-3 text-sm text-white",style:t.bgColor(s,"playrate")},[t._v(" "+t._s(t._f("percent")(s.playrate))+" ")]),e("td",{staticClass:"px-2 py-3 text-sm text-white",style:t.bgColor(s,"wins")},[t._v(" "+t._s(s.wins)+" ")]),e("td",{staticClass:"px-2 py-3 text-sm text-white",style:t.bgColor(s,"count")},[t._v(" "+t._s(s.count)+" ")]),e("td",{staticClass:"px-2 py-3 text-sm text-white",style:t.bgColor(s,"kda")},[e("div",[t._v(t._s(t._f("round")(s.kda)))]),e("div",{staticClass:"mt-1 whitespace-nowrap text-xxs text-blue-200"},[t._v(" "+t._s(t._f("round")(s.kills/s.count,1))+" / "+t._s(t._f("round")(s.deaths/s.count,1))+" / "+t._s(t._f("round")(s.assists/s.count,1))+" ")])]),e("td",{staticClass:"px-2 py-3 text-sm text-white",style:t.bgColor(s,"kp")},[t._v(" "+t._s(t._f("percent")(s.kp))+" ")]),e("td",{staticClass:"px-2 py-3 text-sm text-white",style:t.bgColor(s,"minions")},[t._v(" "+t._s(t._f("round")(s.minions,0))+" ")]),e("td",{staticClass:"px-2 py-3 text-sm text-white",style:t.bgColor(s,"gold")},[t._v(" "+t._s(t._f("kilo")(s.gold))+" ")]),e("td",{staticClass:"px-2 py-3 text-sm text-white",style:t.bgColor(s,"dmgChamp")},[t._v(" "+t._s(t._f("kilo")(s.dmgChamp))+" ")]),e("td",{staticClass:"px-2 py-3 text-sm text-white",style:t.bgColor(s,"dmgTaken")},[t._v(" "+t._s(t._f("kilo")(s.dmgTaken))+" ")]),e("td",{staticClass:"px-2 py-3 text-sm text-white",style:t.bgColor(s,"gameLength")},[t._v(" "+t._s(t._f("secToTime")(s.gameLength))+" ")]),e("td",{staticClass:"px-2 py-3 text-xs text-white",class:{"rounded-br-lg":a===t.championsToDisplay.length-1}},[t._v(" "+t._s(s.lastPlayed)+" ")])])}),0):e("tbody",t._l(11,function(s){return e("tr",{key:s},[e("td",{attrs:{colspan:"14"}},[e("content-loader",{attrs:{height:50,width:1200,speed:2,"primary-color":"#17314f","secondary-color":"#2b6cb0"}},[e("rect",{attrs:{x:"31",y:"16",rx:"3",ry:"3",width:"20",height:"20"}}),e("circle",{attrs:{cx:"101",cy:"26",r:"12"}}),e("rect",{attrs:{x:"119",y:"16",rx:"3",ry:"3",width:"50",height:"20"}}),e("rect",{attrs:{x:"234.5",y:"16",rx:"3",ry:"3",width:"45",height:"20"}}),e("rect",{attrs:{x:"316.5",y:"16",rx:"3",ry:"3",width:"45",height:"20"}}),e("rect",{attrs:{x:"398.5",y:"16",rx:"3",ry:"3",width:"45",height:"20"}}),e("rect",{attrs:{x:"480.5",y:"16",rx:"3",ry:"3",width:"45",height:"20"}}),e("rect",{attrs:{x:"565",y:"14",rx:"3",ry:"3",width:"40",height:"10"}}),e("rect",{attrs:{x:"558",y:"30",rx:"3",ry:"3",width:"55",height:"10"}}),e("rect",{attrs:{x:"644.5",y:"16",rx:"3",ry:"3",width:"45",height:"20"}}),e("rect",{attrs:{x:"726.5",y:"16",rx:"3",ry:"3",width:"45",height:"20"}}),e("rect",{attrs:{x:"808.5",y:"16",rx:"3",ry:"3",width:"45",height:"20"}}),e("rect",{attrs:{x:"890.5",y:"16",rx:"3",ry:"3",width:"45",height:"20"}}),e("rect",{attrs:{x:"972.5",y:"16",rx:"3",ry:"3",width:"45",height:"20"}}),e("rect",{attrs:{x:"1052",y:"16",rx:"3",ry:"3",width:"50",height:"20"}}),e("rect",{attrs:{x:"1129",y:"16",rx:"3",ry:"3",width:"60",height:"20"}})])],1)])}),0)])},P=[],$=i(w,k,P,!1,null,"30b95d8b");const q=$.exports,T={props:{choices:{type:Object,required:!0}},data(){return{queue:""}},created(){this.queue=0},destroyed(){this.queue!==0&&this.championsNotLoaded()},methods:{filterQueue(){this.$emit("filter-queue",this.queue)},...d("summoner",["championsNotLoaded"])}};var D=function(){var t=this,e=t._self._c;return e("div",{staticClass:"relative inline-block text-white"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.queue,expression:"queue"}],staticClass:"block w-full cursor-pointer appearance-none rounded-md bg-blue-800 px-4 py-2 pr-8 font-semibold capitalize hover:bg-blue-700 focus:outline-none",staticStyle:{width:"144px"},on:{change:[function(s){var a=Array.prototype.filter.call(s.target.options,function(o){return o.selected}).map(function(o){var n="_value"in o?o._value:o.value;return n});t.queue=s.target.multiple?a:a[0]},t.filterQueue]}},t._l(Object.keys(t.choices),function(s){return e("option",{key:s,domProps:{value:s}},[t._v(" "+t._s(t.choices[s].name)+" ")])}),0),e("div",{staticClass:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[e("svg",{staticClass:"h-5 w-5 text-white"},[e("use",{attrs:{"xlink:href":"#chevron-down"}})])])])},L=[],F=i(T,D,L,!1,null,null);const N=F.exports,M={components:{Tooltip:m},props:{value:{type:Boolean,default:!1}},methods:{change(r){this.$emit("input",r.target.checked)}}};var S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex items-center space-x-2 text-base"},[e("input",{staticClass:"form-checkbox",attrs:{id:"onlyMostPlayed",type:"checkbox"},domProps:{checked:t.value},on:{change:t.change}}),e("Tooltip",{scopedSlots:t._u([{key:"trigger",fn:function(){return[e("label",{staticClass:"cursor-pointer select-none",attrs:{for:"onlyMostPlayed"}},[t._v("Only most played")])]},proxy:!0},{key:"default",fn:function(){return[e("div",{staticClass:"px-2 text-center text-xs text-white"},[t._v(" Hide champions with less than "),e("br"),e("span",{staticClass:"font-bold text-teal-400"},[t._v("1% playrate")]),t._v(" to be able to compare "),e("br"),t._v("statistics more easily. ")])]},proxy:!0}])})],1)},R=[],B=i(M,S,R,!1,null,null);const A=B.exports,O={components:{ChampionsSearch:C,ChampionsTable:q,FilterQueue:N,OnlyMostPlayed:A},data(){return{onlyMostPlayed:!1,queue:null,searchChampions:""}},computed:{queues(){const r=Object.keys(c).filter(t=>c[t].type!=="Bot"&&this.gamemodes.includes(Number(t))).reduce((t,e)=>({...t,[e]:c[e]}),{});return{0:{type:"Normal",name:"All queues"},...r}},..._("summoner",["summonerFound"]),...y({champions:r=>r.summoner.champions.list,championsLoaded:r=>r.summoner.champions.championsLoaded,gamemodes:r=>r.summoner.basic.gamemodes})},watch:{championsLoaded(){this.fetchData()},summonerFound(){this.fetchData()}},created(){this.fetchData()},methods:{fetchData(){!this.championsLoaded&&this.summonerFound&&this.championsRequest(this.queue)},filterByQueue(r){r=Number(r),this.queue=r===0?null:r,this.championsRequest(this.queue)},updateSearch(r){this.searchChampions=r},...d("summoner",["championsRequest"])},metaInfo(){return{title:"Summoner Champions"}}};var Q=function(){var t=this,e=t._self._c;return e("div",{key:"champions",staticClass:"mt-3"},[e("div",{staticClass:"flex items-center space-x-4"},[e("ChampionsSearch",{on:{"search-champions":t.updateSearch}}),e("FilterQueue",{attrs:{choices:t.queues},on:{"filter-queue":t.filterByQueue}}),e("OnlyMostPlayed",{model:{value:t.onlyMostPlayed,callback:function(s){t.onlyMostPlayed=s},expression:"onlyMostPlayed"}})],1),e("ChampionsTable",{staticClass:"mt-6",attrs:{champions:t.champions,search:t.searchChampions,"only-most-played":t.onlyMostPlayed}})],1)},G=[],I=i(O,Q,G,!1,null,null);const K=I.exports;export{K as default};
